<?xml version="1.0" encoding="iso-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   template="/WEB-INF/templates/default.xhtml">
   <ui:define name="principal">

   <f:metadata>
   		<f:event listener="#{usuarioMB.configurarLista()}" type="preRenderView"></f:event>
   </f:metadata>
   

	<h:form>

	   <div class="page-header">
		   	<h1 class="text-center">Usuários</h1>  	   
	   </div>   
	   
	 	   
  	   
		   <table class="table table-striped">
		  	<thead>
		  		<tr>
		  			<td ><h4>Id</h4></td>
		  			<td ><h4>Nome</h4></td>
		  			<td ><h4>Perfil</h4></td>
		  			<td ><h4 class="text-center">Opções</h4></td>
		  		</tr>
		  	</thead>
		  	<tbody>
				<ui:repeat var="usuario" value="#{usuarioMB.usuarios}">
					<tr>
						<td>#{usuario.id}</td>
						<td>#{usuario.nome}</td>
						<td>#{usuario.perfil.nome}</td>						
						<td align="center">					
							<h:commandLink styleClass="btn btn-info btn-sm" action="#{usuarioMB.excluir(usuario.id)}">
								<span class="glyphicon glyphicon-remove"></span>
							</h:commandLink>							
							<span></span>							
							<h:commandLink styleClass="btn btn-info btn-sm" action="formulario">
								<f:param value="#{usuario.id}" name="idUsuario"/>
								<span class="glyphicon glyphicon-pencil"></span>
							</h:commandLink>	
						</td>
					</tr>
				</ui:repeat>  	
		  	</tbody>
		   </table>
	   
	   
	
	   <h:commandButton styleClass="btn btn-success" action="cadastrar" value="Cadastrar" />

	</h:form>	
	
   </ui:define>
</ui:composition>
